## MPA

Multi Page Application (MPA) - это тип веб-приложения, в котором каждая страница загружается отдельно из сервера. Каждая страница содержит свой собственный HTML, CSS и JavaScript код. Вот некоторые преимущества и недостатки MPA:

### Преимущества MPA:
- Быстрая загрузка начальной страницы: При использовании MPA только начальная страница загружается с сервера, что позволяет быстро отобразить основной контент пользователю.

- Простота разработки: Разработка MPA может быть проще, поскольку каждая страница может быть разработана отдельно, что упрощает организацию кода и поддержку.

- Лучшая SEO-оптимизация: MPA обеспечивает более простую и прямую структуру URL-адресов, что облегчает индексацию поисковыми системами и повышает видимость вашего веб-сайта.

- Более надежная навигация: Пользователи могут использовать стандартные элементы управления браузера, такие как кнопки "Назад" и "Вперед", для навигации по страницам, что делает опыт использования более привычным.

### Недостатки MPA:
- Повторная загрузка ресурсов: При переходе между страницами в MPA ресурсы, такие как общие CSS и JavaScript файлы, могут повторно загружаться, что может привести к дополнительным задержкам и нагрузке на сервер.

- Медленная навигация: Переход между страницами в MPA требует полной перезагрузки каждой страницы, что может занимать больше времени, особенно при медленном интернет-соединении.

- Ограниченная интерактивность: MPA обычно ограничивает интерактивность пользовательского интерфейса, поскольку каждая страница имеет свой собственный контекст и состояние, что может затруднить сложные взаимодействия между разными частями приложения.

- Большой объем кода: Если веб-приложение MPA имеет много страниц, то может возникнуть проблема с повторением кода и увеличением объема загружаемых ресурсов.

- Ограниченная масштабируемость: При добавлении новых функций или изменении существующих требуется обновление каждой страницы, что может быть сложным и затратным процессом.

### *Примеры:*  
1. [Airbnb](https://www.airbnb.ru): Сайт для поиска и аренды жилья по всему миру, Airbnb, также является MPA, поскольку содержит множество функций и страниц, включая поиск жилья, просмотр профилей арендодателей, управление учетной записью и т.д.
2. [Amazon](https://www.amazon.com): Один из крупнейших в мире онлайн-магазинов, Amazon, имеет MPA с множеством страниц и функций, таких как поиск товаров, просмотр категорий, управление корзиной и оформление заказа.
3. [Facebook](https://www.facebook.com): Facebook использует MPA для создания разных страниц, таких как главная страница, страница профиля пользователя, новостная лента и другие.

## SPA  

SPA (Single Page Application) - это одностраничное веб-приложение, которое загружается на одну HTML-страницу. Благодаря динамическому обновлению с помощью JavaScript, во время использования не нужно перезагружать или подгружать дополнительные страницы. На практике это означает, что пользователь видит в браузере весь основной контент, а при прокрутке или переходах на другие страницы, вместо полной перезагрузки нужные элементы просто подгружаются.  
Мгновенно реагирует на все его действия, без задержек и «подвисаний».  
Такого эффекта удается добиться с помощью продвинутых фреймворков JavaScript: Angular, React, Ember, Meteor, Knockout. 

### Преимущества:  

- Высокая скорость — все ресурсы загружаются за одну сессию, а во время действий на странице данные просто меняются, что очень экономит время.  

- Гибкость и отзывчивость пользовательского интерфейса — за счет того, что веб-страница всего одна, проще построить насыщенный интерфейс, хранить сведения о сеансе, управлять состояниями представлений и анимацией; 

- Упрощенная разработка — код можно начинать писать с файла file://URL, не используя сервер, не нужен отдельный код для рендера страницы на стороне сервера;  

- Кэширование данных — приложение отправляет всего один запрос, собирает данные, а после этого может функционировать в offline-режиме.  

### Недостатки:  

- SEO-оптимизация требует решений в виде серверного рендеринга — из-за того, что контент загружается при помощи технологии AJAX, которая подразумевает динамическое изменение содержания станицы, а для оптимизации важна устойчивость;  

- Нагрузка на браузер — из-за того, что клиентские фреймворки тяжелые, они довольно долго загружаются;  

- Утечка памяти в Java Script — из-за плохой защиты, SPA больше подвержена действиям злоумышленников и утечке памяти. 

### Различия:  

### Выбор SPA  
Целесообразен, если:
+ есть необходимость в многофункциональном, насыщенном пользовательском интерфейсе;
+ есть необходимость в интерфейсе API — использовании готовых блоков для построения приложения.  

### Выбор MPA
Целесообразен, если:
+ приложения используются только для чтения информации;
+ есть необходимость в использовании приложения в браузерах без поддержки JavaScript.

#### *Примеры:*  
1. [Gmail](https://mail.google.com/): Популярный почтовый сервис от Google является отличным примером одностраничного приложения. Вся функциональность доступна на одной странице, а интерфейс пользователя остается неизменным при выполнении различных действий, таких как чтение, отправка или организация писем.
2. [Google Maps](https://www.google.ru/maps): Приложение для навигации от Google также является одностраничным приложением, где пользователь может просматривать карту, искать маршруты и выполнять другие действия без необходимости перехода на другие страницы.
3. [Trello](https://trello.com): Это веб-приложение для управления проектами, которое позволяет пользователям организовывать задачи и проекты в виде досок, списков и карточек. Вся функциональность Trello доступна на одной странице, и пользователи могут переключаться между досками без необходимости перезагрузки страницы.


## PWA
*Прогрессивные веб-приложения (Progressive Web Applications)* — это приложения, которые создаются с помощью веб-технологий и которые можно устанавливать и запускать на всех устройствах из одной базы кода.  
PWA — новый тип веб-приложений, которые предлагают пользователям интерфейс, подобный нативному приложению. Они сочетают в себе лучшие функции традиционных веб-приложений и нативных приложений, предлагая автономную поддержку, push-уведомления и возможность установки на главном экране устройства. Хотя PWA не являются заменой нативным приложениям, они предлагают экономичную альтернативу компаниям, которые хотят обеспечить высокое качество пользовательского интерфейса на нескольких платформах и устройствах.

### Преимущества:  
- Кроссплатформенность — могут работать сразу с несколькими операционными системами;  

- Высокая скорость работы и возможность запуска и отображения данных в офлайн-режиме с моментальной загрузкой;  

- Высокая скорость установки;  

- Быстрая разработка — для создания PWA, не нужен отдельный сайт, достаточно изменить уже существующий.  

- Автоматические обновления и меньший вес (не более 3 мегабайт), чем у мобильного приложения. Пользователю не придётся занимать лишнюю память устройства.

### Недостатки:  
- Не все браузеры поддерживают основные функции таких приложений (например, Firefox и Edge).

- Большой расход батареи. PWA кодят на JavaScript — языке программирования, который тратит больше ресурсов системы, чем Java (на нём пишут обычные приложения).

- У PWA приложений не полный доступ к аппаратным возможностям устройств, на которые они устанавливаются, нет возможности использовать все технологии. Например, для IOS не получится воспользоваться Face ID и Bluetooth. Apple очень медленно адаптируется под веб-приложения, поэтому на их устройствах есть проблема с отправкой Push.  

### *Примеры:*  
1. [Pinterest](https://www.pinterest.com).
Pinterest также добавил поддержку PWA, позволяя пользователям сохранять свои избранные пины и контент для просмотра без подключения к интернету.
2. [Uber](https://www.uber.com).
    Uber создал PWA-версию своего веб-сайта, которая используется в странах, где мобильные данные и скорость Интернета ограничены.
3. [Trivago](https://www.trivago.com).
   Trivago, популярный поисковик гостиниц, предоставляет PWA-версию своего веб-сайта, которая позволяет пользователю сохранять предпочтения отелей и сравнивать цены без подключения к Интернету.

## Зачем вообще нужны PWA? Почему нельзя ограничиться SPA или MPA?

PWA (Progressive Web Applications) представляют собой веб-приложения, которые обладают некоторыми функциональными возможностями, ранее доступными только для нативных приложений. 

*Вот несколько причин, почему PWA может быть предпочтительным вариантом перед SPA (Single Page Applications) или MPA (Multi-Page Applications):*

1. Функционирование без интернета: PWA позволяют сохранить копию веб-приложения на устройстве пользователя, что позволяет продолжать работать с приложением, даже при отсутствии интернета. Это особенно полезно в местах с плохим интернет-соединением или во время полного отсутствия сети.

2. Установка на устройство: PWA можно установить на рабочий стол устройства пользователя, как обычное нативное приложение. Они не требуют загрузки из магазина приложений, что упрощает и ускоряет процесс установки и обновления.

3. Возможность работы в фоновом режиме: PWA позволяют запускать и работать в фоновом режиме, что означает, что пользователь может получать уведомления и обновления от приложения, даже если оно не активно на экране.

4. Push-уведомления: PWA могут отправлять push-уведомления пользователям, подобно настольным или мобильным приложениям. Это позволяет взаимодействовать с пользователями, даже если они не активно используют приложение.

Одновременно с этим, SPA и MPA имеют свои преимущества, такие как простота разработки, более низкая требовательность к ресурсам и поддержка множества браузеров. Выбор между PWA и SPA/MPA зависит от конкретных требований проекта и целей разработки.

В целом, PWA совмещают некоторые преимущества нативных приложений и веб-приложений, предлагая больше возможностей для разработчиков и лучший пользовательский опыт для пользователей.

## Какие технологии используются для реализации PWA? 

Для реализации PWA (Progressive Web App) требуется использование следующих технологий:

1. Service Worker: Это скрипт, который работает в фоновом режиме и управляет событиями и запросами веб-приложения. Он позволяет реализовать офлайн-режим работы приложения, оптимизировать кэширование и обрабатывать push-уведомления.

2. Application Manifest: Это JSON-файл, который описывает метаданные PWA, такие как название, иконка, цвет фона и т.д. Он позволяет добавить приложение на домашний экран устройства и создать ощущение, что это самостоятельное приложение.

3. Офлайн-кэширование: С помощью сервисного работника (service worker) PWA может кэшировать ресурсы (например, HTML, CSS, JavaScript, изображения), чтобы они были доступны в офлайн-режиме. Это позволяет пользователю продолжать использовать приложение даже при отсутствии интернета.

4. Web Push или push-уведомления: Это позволяет PWA отправлять уведомления пользователю даже тогда, когда приложение не запущено. Push-уведомления могут содержать текстовое сообщение, изображение и другие элементы, и они могут быть использованы для уведомления пользователя о новых обновлениях, акциях и других событиях.

5. HTTPS: Для использования PWA требуется безопасное соединение с помощью протокола HTTPS. Это необходимо для безопасной передачи данных между пользователем и сервером и обеспечения конфиденциальности и целостности информации.

Все эти технологии вместе позволяют создавать веб-приложения, которые могут работать в офлайн-режиме, отправлять уведомления пользователю и обеспечивать более плавное и быстрое взаимодействие с пользователем, более близкое к традиционным приложениям.

## Как можно понять (и можно ли), что перед нами PWA, а не другие виды приложений?

Да, есть несколько основных признаков, по которым можно отличить PWA от других типов веб-приложений:

1. Уведомления: PWA-приложения могут отправлять уведомления на устройство пользователя, аналогично нативным приложениям.

2. Поддержка HTTPS: PWA-приложения требуют использования протокола HTTPS для обеспечения безопасности и защиты данных.

3. Добавление на главный экран устройства: Пользователь может добавить PWA на главный экран своего устройства, что дает ему быстрый доступ к приложению, без необходимости открывать браузер.

4. Манифест приложения: PWA используют манифест приложения - файл, содержащий информацию о приложении, такую как название, автор, иконки и т. д. Манифест позволяет лучше интегрировать приложение на устройстве пользователя.

5. Работа в офлайн-режиме: PWA обладает способностью работать в офлайн-режиме, то есть пользователь может использовать приложение без подключения к Интернету. PWA может сохранять данные в кэше браузера и использовать их при отсутствии сети.

## Чем отличается между собой тестирование SPA и MPA? Как тестировать PWA?

*SPA (Single Page Application) и MPA (Multi-Page Application) - это два различных подхода к построению веб-приложений.*

*SPA - это веб-приложение, которое загружает только одну HTML-страницу и далее использует JavaScript для обновления содержимого страницы с помощью AJAX (это технология, позволяющая обращаться к серверу и не перезагружать при этом страницу).* 

**Основные отличия в тестировании SPA:**

1. Проверка загрузки страницы: в SPA, так как загрузка страницы происходит только в начале, следует убедиться, что все необходимые ресурсы загружаются правильно и приложение быстро открывается.

2. Навигация: в SPA навигация внутри приложения происходит без перезагрузки страницы, поэтому необходимо протестировать работу всех ссылок и кнопок в приложении.

3. Производительность и кэширование: SPA часто использует кэширование для улучшения производительности. Проверьте, что кэшированные ресурсы загружаются корректно и обновляются при необходимости. Также, следует проверить производительность и отзывчивость приложения, особенно при работе с большим объемом данных или на медленных устройствах.


*MPA - это традиционный подход, в котором каждая страница имеет свою отдельную HTML-страницу и загружается заново при переходе между страницами.* 

**Отличия в тестировании MPA:**

1. Проверка загрузки страницы: в MPA каждая страница загружается отдельно, поэтому следует проверить, что все страницы загружаются правильно и без ошибок.

2. Навигация: в MPA важно проверить навигацию между страницами и убедиться, что переходы происходят корректно и без проблем.

3. Производительность и кэширование: в MPA также можно использовать кэширование, например, для статических ресурсов, но оно не так важно, так как каждая страница загружается заново. В то же время, следует тестировать производительность каждой страницы отдельно и убедиться, что они загружаются быстро и отзывчиво.

*PWA (Progressive Web Application) - это веб-приложение, которое может работать в офлайн-режиме и иметь опыт, близкий к нативным приложениям.*

**При тестировании PWA следует обратить внимание на следующие аспекты:**

1. Надежность: приложение должно работать стабильно и без сбоев даже в условиях плохого подключения к интернету или его полного отсутствия. Проверьте, как приложение обрабатывает ошибки при сетевых проблемах и что пользователь получает соответствующую обратную связь.

2. Отзывчивость и быстрота работы интерфейса: PWA должно быть отзывчивым и быстрым даже при низкой скорости сети или при использовании медленных устройств. Протестируйте, что приложение загружается и реагирует на действия пользователя быстро и без задержек.

3. Кэширование: PWA может использовать кэширование для сохранения ресурсов и позволять пользователю получать доступ к приложению в офлайн-режиме. Проверьте, что приложение правильно кэширует ресурсы и что пользователь может взаимодействовать с приложением при отсутствии сети.

В общем, тестирование SPA и MPA сконцентрировано на функциональности и производительности самого приложения, тогда как тестирование PWA включает как функциональные, так и надежность и отзывчивость интерфейса, особенно в условиях неполного или отсутствующего подключения к интернету.